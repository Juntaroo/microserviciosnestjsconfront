<!-- 
  Wrapper principal que crea el fondo degradado
  y centra el formulario
-->
<div class="register-page-wrapper">

  <!-- 
    Este es el contenedor del formulario con el
    efecto "glassmorphism"
  -->
  <div class="register-container">
    
    <h2 class="text-3xl font-bold text-gray-900">
      Crear una cuenta
    </h2>
    <p class="subtitle">
      칔nete a nosotros. 춰Es r치pido y f치cil!
    </p>

    <!-- Formulario de Registro -->
    <form [formGroup]="registerForm" (ngSubmit)="register()" class="space-y-6">
      
      <!-- Campo: Nombre -->
      <div class="form-group">
        <label for="name">Nombre</label>
        <div class="input-wrapper">
          <input 
            id="name" 
            type="text" 
            formControlName="name"
            placeholder="Tu nombre completo">
          <i>游녻</i>
        </div>
        @if (registerForm.get('name')?.touched && registerForm.get('name')?.hasError('required')) {
          <small class="error-message">El nombre es requerido.</small>
        }
      </div>
      
      <!-- Campo: Email -->
      <div class="form-group">
        <label for="email">Email</label>
        <div class="input-wrapper">
          <input 
            id="email" 
            type="email" 
            formControlName="email"
            placeholder="tu@email.com">
           <i>九괦잺</i>
        </div>
        @if (registerForm.get('email')?.touched && registerForm.get('email')?.hasError('required')) {
          <small class="error-message">El email es requerido.</small>
        }
        @if (registerForm.get('email')?.touched && registerForm.get('email')?.hasError('email')) {
          <small class="error-message">Por favor, ingrese un email v치lido.</small>
        }
      </div>
      
      <!-- Campo: Contrase침a -->
      <div class="form-group">
        <label for="password">Contrase침a</label>
        <div class="input-wrapper">
          <input 
            id="password" 
            type="password" 
            formControlName="password"
            placeholder="M칤nimo 6 caracteres">
          <i>游</i>
        </div>
        @if (registerForm.get('password')?.touched && registerForm.get('password')?.hasError('required')) {
          <small class="error-message">La contrase침a es requerida.</small>
        }
        @if (registerForm.get('password')?.touched && registerForm.get('password')?.hasError('minlength')) {
          <small class="error-message">La contrase침a debe tener al menos 6 caracteres.</small>
        }
      </div>

      <!-- Campo: Confirmar Contrase침a -->
      <div class="form-group">
        <label for="confirmPassword">Confirmar Contrase침a</label>
        <div class="input-wrapper">
          <input 
            id="confirmPassword" 
            type="password" 
            formControlName="confirmPassword"
            placeholder="Repite la contrase침a">
          <i>游</i>
        </div>
        @if (registerForm.get('confirmPassword')?.touched && registerForm.get('confirmPassword')?.hasError('required')) {
          <small class="error-message">Por favor, confirme la contrase침a.</small>
        }
        @if (registerForm.get('confirmPassword')?.touched && !registerForm.get('confirmPassword')?.hasError('required') && registerForm.hasError('passwordMismatch')) {
          <small class="error-message">Las contrase침as no coinciden.</small>
        }
      </div>

      <!-- Mensaje de Error General (ej. email ya existe) -->
      @if (errorMessage) {
        <div class="error-message global-error">
          <p>{{ errorMessage }}</p>
        </div>
      }

      <!-- Bot칩n de Env칤o -->
      <div>
        <button 
          type="submit"
          class="register-button"
          [disabled]="registerForm.invalid">
          Registrarse
        </button>
      </div>
    </form>
    
    <!-- Enlace para Iniciar Sesi칩n -->
    <div class="login-link">
      <p>
        쯏a tienes una cuenta?
        <a (click)="goToLogin()">
          Inicia sesi칩n aqu칤
        </a>
      </p>
    </div>
  </div>
</div>